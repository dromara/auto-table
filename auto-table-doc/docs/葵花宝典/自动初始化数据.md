---
title: è‘µèŠ±å®å…¸
description:
---

## è‡ªåŠ¨åˆå§‹åŒ–æ•°æ®ã€sqlè„šæœ¬

### éœ€æ±‚

åœ¨è‡ªåŠ¨åˆ›å»ºå®Œè¡¨æ ¼åï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿé€šå¸¸éœ€è¦åˆå§‹åŒ–æ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·è¡¨ï¼Œæƒé™è¡¨ç­‰ç­‰ã€‚

### å®ç°

> é»˜è®¤åº“/è¡¨æ•°æ®åˆå§‹åŒ–æœ‰ä¸‰ç§æ–¹å¼ï¼š

#### âœˆï¸ æ–¹å¼ä¸€ï¼šæ ¹æ®åç§°è‡ªåŠ¨åŒ¹é…sqlè„šæœ¬

> å…·ä½“é…ç½®è§ï¼š[auto-table.recordSql](/é…ç½®.html#init-data)

* å•æ•°æ®æºåœºæ™¯ï¼ˆæ²¡æœ‰æŒ‡å®šæ•°æ®æºçš„æƒ…å†µï¼‰
    1. `sql/user.sql` -> æŒ‡å®šuserè¡¨çš„è„šæœ¬ï¼ˆåªä¼šåœ¨æŒ‡å®šè¡¨åˆ›å»ºå®Œæˆåæ‰§è¡Œä¸€æ¬¡ï¼‰
        * `sql`ç›®å½•æ”¯æŒé…ç½®é¡¹[base-path](/é…ç½®.html#base-path)æ›´æ”¹
        * [base-path](/é…ç½®.html#base-path)é…ç½®ï¼Œæ”¯æŒå¤šåº“é€‚é…çš„æ¨¡å¼ï¼Œå¼•å…¥äº†`{dialect}`å˜é‡
    2. `sql/_init_.sql` -> è¡¨ç¤ºæ•´ä¸ªåº“çš„ç›¸å…³è„šæœ¬ï¼ˆåªä¼šåœ¨åº“åˆ›å»ºåï¼Œä¸”æ‰€æœ‰è¡¨åˆ›å»ºå®Œæˆåæ‰§è¡Œä¸€æ¬¡ï¼‰
        * `_init_`ä¸ºé»˜è®¤å€¼ï¼Œå¯ä»¥é€šè¿‡é…ç½®é¡¹[default-init-file-name](/é…ç½®.html#default-init-file-name)æ›´æ”¹
* å¤šæ•°æ®æºåœºæ™¯ï¼ˆæœ‰å¤šå¥—æ•°æ®åº“ï¼Œæ¯ä¸ªåº“å±äºä¸€ä¸ªæ•°æ®æºï¼‰
    1. `sql`/datasource1/user.sql -> è¡¨ç¤ºæ•°æ®æº`datasource1`ä¸‹çš„`user`è¡¨è„šæœ¬ï¼ˆåªä¼šåœ¨æŒ‡å®šè¡¨åˆ›å»ºå®Œæˆåæ‰§è¡Œä¸€æ¬¡ï¼‰
    2. `sql`/datasource1.sql -> è¡¨ç¤ºæ•°æ®æº`datasource1`ä¸‹æ•´ä¸ªæ•°æ®åº“çš„ç›¸å…³è„šæœ¬ï¼ˆåªä¼šåœ¨åº“åˆ›å»ºåï¼Œä¸”æ‰€æœ‰è¡¨åˆ›å»ºå®Œæˆåæ‰§è¡Œä¸€æ¬¡ï¼‰

#### ğŸš„ æ–¹å¼äºŒï¼šæ‰‹åŠ¨æŒ‡å®šè¡¨çš„sqlè„šæœ¬

> é€šè¿‡`@AutoTable`çš„`initSql`å±æ€§æŒ‡å®šsqlè„šæœ¬ä½ç½®

```java

@AutoTable(comment = "è‡ªå®šä¹‰sqlæ–‡ä»¶åˆå§‹åŒ–æ•°æ®", initSql = "classpath:customize_path/InitDataCustomizeFile.sql")
public class InitDataCustomizeFile {

    private String name;
}

```

::: tip å¤šåº“é€‚é…

initSqlçš„å€¼æ”¯æŒå½“å‰æ•°æ®åº“ç±»å‹`{dialect}`ä½œä¸ºå‚æ•°

ç¤ºä¾‹ï¼š

> classpath:path/`{dialect}`/user.sql

ä¸åŒæ•°æ®åº“å®é™…å­˜åœ¨çš„æ–‡ä»¶ä¸ºï¼š

> classpath:path/Mysql/user.sql

> classpath:path/Oralce/user.sql

:::

#### ğŸš¤ æ–¹å¼ä¸‰ï¼šé€šè¿‡ä»£ç æ„å»ºæ•°æ®é›†åˆ

> é€šè¿‡`@InitDataList`æ³¨è§£æŒ‡å®šjavaæ–¹æ³•è¿”å›çš„æ•°æ®é›†åˆã€‚

```java

@NoArgsConstructor
@AllArgsConstructor
@AutoTable(comment = "ç”¨javaæ–¹æ³•åˆå§‹åŒ–æ•°æ®")
public class InitDataJavaMethod {

    private String name;

    @InitDataList
    public static List<InitDataJavaMethod> getInitData() {
        return Arrays.asList(new InitDataJavaMethod("zhang"), new InitDataJavaMethod("li"));
    }

    @InitDataList
    private static List<InitDataJavaMethod> getInitData2() {
        return Arrays.asList(new InitDataJavaMethod("wang"), new InitDataJavaMethod("liu"));
    }
}
```

::: warning æ³¨æ„

1. å¿…é¡»æ˜¯é™æ€æ–¹æ³•
2. éœ€è¦`@InitDataList`æ³¨è§£æ ‡æ³¨
3. è¿”å›å€¼å¿…é¡»æ˜¯List\<Entity\>
4. è¯¥æ–¹æ³•åªèƒ½åœ¨Entityç±»ä¸­å®šä¹‰

:::
