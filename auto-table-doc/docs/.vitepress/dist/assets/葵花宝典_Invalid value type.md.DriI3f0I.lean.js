import{_ as t,c as e,a2 as r,o as n}from"./chunks/framework.DVcYaelC.js";const y=JSON.parse('{"title":"葵花宝典","description":null,"frontmatter":{"title":"葵花宝典","description":null},"headers":[],"relativePath":"葵花宝典/Invalid value type.md","filePath":"葵花宝典/Invalid value type.md","lastUpdated":1731512067000}'),i={name:"葵花宝典/Invalid value type.md"};function o(l,a,s,p,c,b){return n(),e("div",null,a[0]||(a[0]=[r('<h2 id="invalid-value-type-for-attribute-factorybeanobjecttype-java-lang-string" tabindex="-1">Invalid value type for attribute ‘factoryBeanObjectType‘: java.lang.String <a class="header-anchor" href="#invalid-value-type-for-attribute-factorybeanobjecttype-java-lang-string" aria-label="Permalink to &quot;Invalid value type for attribute ‘factoryBeanObjectType‘: java.lang.String&quot;">​</a></h2><blockquote><p>来自用户<a href="https://gitee.com/m774461674" target="_blank" rel="noreferrer">@m774461674</a>的投稿</p></blockquote><h4 id="背景" tabindex="-1">背景 <a class="header-anchor" href="#背景" aria-label="Permalink to &quot;背景&quot;">​</a></h4><p>项目中使用 mybatis-plus-boot-starter 当前最新版本 3.5.4.1 ，其中依赖的 mybatis-spring 版本为 2.1.1。</p><h4 id="分析" tabindex="-1">分析 <a class="header-anchor" href="#分析" aria-label="Permalink to &quot;分析&quot;">​</a></h4><p>mybatis-spring 2.1.1 版本的 ClassPathMapperScanner#processBeanDefinitions 方法里将 BeanClassName 赋值给 String 变量，并将beanClassName 赋值给 factoryBeanObjectType，但是在 Spring Boot 3.2 版本中FactoryBeanRegistrySupport#getTypeForFactoryBeanFromAttributes方法已变更，如果 factoryBeanObjectType 不是 ResolvableType 或 Class 类型会抛出 IllegalArgumentException 异常。此时因为 factoryBeanObjectType 是 String 类型，不符合条件而抛出异常。</p><h4 id="解决" tabindex="-1">解决 <a class="header-anchor" href="#解决" aria-label="Permalink to &quot;解决&quot;">​</a></h4><p>Mybatis-Plus 于 2023年12月24日发布 mybatis-plus v3.5.5 版本，发布日志声明升级spring-boot3版本mybatis-spring至3.0.3。所以升级 Mybatis-Plus 版本为 3.5.5 版本即可，需要注意下 Maven 的坐标标识是mybatis-plus-spring-boot3-starter，这点和SpringBoot 2 的依赖坐标mybatis-plus-boot-starter有所区别。手动将myabtis-spring降为3.0.3</p>',8)]))}const d=t(i,[["render",o]]);export{y as __pageData,d as default};
