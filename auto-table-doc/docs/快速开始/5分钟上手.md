---
title: 5分钟上手
description: 快速体验 AutoTable 自动建表
---

# 5分钟上手

本教程将带你快速体验 AutoTable 的核心功能。

## 快速开始流程

```mermaid
flowchart LR
    A["1️⃣ 添加依赖"] --> B["2️⃣ 激活AutoTable"]
    B --> C["3️⃣ 定义实体"]
    C --> D["4️⃣ 启动应用"]
    D --> E["✨ 表自动创建"]

    style A fill:#dbeafe,stroke:#3b82f6
    style B fill:#d1fae5,stroke:#10b981
    style C fill:#fef3c7,stroke:#f59e0b
    style D fill:#fce7f3,stroke:#ec4899
    style E fill:#d1fae5,stroke:#10b981
```

## 前置条件

- 已添加 [AutoTable 依赖](/快速开始/安装)
- 已配置数据库连接

## 第 1 步：激活 AutoTable

::: code-group

```java [Spring Boot]
@EnableAutoTable  // 添加此注解
@SpringBootApplication
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}
```

```java [Solon]
@EnableAutoTable  // 添加此注解
@SolonMain
public class Application {
    public static void main(String[] args) {
        Solon.start(Application.class, args);
    }
}
```

```java [纯 Java]
public class Application {
    public static void main(String[] args) {
        // 1. 设置数据源
        DataSourceManager.setDataSource(dataSource);
        
        // 2. 启动 AutoTable
        AutoTableBootstrap.start();
    }
}
```

:::

## 第 2 步：定义实体

```mermaid
flowchart TB
    subgraph entity["📦 实体定义"]
        direction TB
        E1["@AutoTable 激活表维护"]
        E2["@PrimaryKey 主键"]
        E3["@ColumnComment 注释"]
        E4["@Index 索引"]
        E5["@ColumnDefault 默认值"]
    end
    
    entity --> TABLE["🗄️ 数据库表"]

    style entity fill:#f0f9ff,stroke:#0ea5e9
    style TABLE fill:#d1fae5,stroke:#10b981
```

```java
import org.dromara.autotable.annotation.*;
import lombok.Data;

@Data
@AutoTable(comment = "用户表")  // 激活表自动维护
public class User {
    
    @PrimaryKey(autoIncrement = true)
    private Long id;
    
    @ColumnComment("用户名")
    @ColumnNotNull
    @ColumnType(length = 50)
    private String username;
    
    @ColumnComment("邮箱")
    @Index  // 创建索引
    private String email;
    
    @ColumnComment("年龄")
    private Integer age;
    
    @ColumnComment("创建时间")
    @ColumnDefault("CURRENT_TIMESTAMP")
    private LocalDateTime createTime;
}
```

## 第 3 步：启动应用

启动应用，查看控制台日志：

```
    _         _          _____     _     _      
   / \  _   _| |_ ___   |_   _|_ _| |__ | | ___ 
  / _ \| | | | __/ _ \    | |/ _` | '_ \| |/ _ \
 / ___ \ |_| | || (_) |   | | (_| | |_) | |  __/
/_/   \_\__,_|\__\___/    |_|\__,_|_.__/|_|\___|
:: https://autotable.tangzc.com ::      (v2.5.10)

AutoTable执行结束。耗时：156ms
```

查看数据库，`user` 表已自动创建：

```sql
CREATE TABLE `user` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `username` varchar(50) NOT NULL COMMENT '用户名',
  `email` varchar(255) DEFAULT NULL COMMENT '邮箱',
  `age` int DEFAULT NULL COMMENT '年龄',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  PRIMARY KEY (`id`),
  KEY `auto_idx_email` (`email`)
) COMMENT='用户表';
```

## 第 4 步：修改实体

```mermaid
flowchart LR
    subgraph before["修改前"]
        B1["User 实体"]
        B2["4 个字段"]
    end
    
    subgraph after["修改后"]
        A1["User 实体"]
        A2["5个字段 +phone"]
    end
    
    AT["🔄 AutoTable 增量更新"]
    
    before --> AT --> after

    style AT fill:#6366f1,stroke:#4f46e5,color:#fff
```

尝试修改实体，添加新字段：

```java
@Data
@AutoTable(comment = "用户表")
public class User {
    // ... 原有字段
    
    @ColumnComment("手机号")  // [!code ++]
    private String phone;     // [!code ++]
}
```

重启应用，AutoTable 自动执行：

```sql
ALTER TABLE `user` ADD COLUMN `phone` varchar(255) COMMENT '手机号';
```

## 运行模式说明

```mermaid
flowchart LR
    subgraph modes["🎯 运行模式"]
        direction TB
        M1["update 🌟默认"]
        M2["validate 仅校验"]
        M3["create 删表重建"]
        M4["none 禁用"]
    end

    style M1 fill:#d1fae5,stroke:#10b981
    style M2 fill:#dbeafe,stroke:#3b82f6
    style M3 fill:#fee2e2,stroke:#ef4444
    style M4 fill:#f3f4f6,stroke:#9ca3af
```

## 配置说明

默认配置即可满足开发环境使用。常用配置项：

```yaml
auto-table:
  # 运行模式：none | validate | create | update（默认）
  mode: update
  # 是否显示 banner
  show-banner: true
  # 自动删除实体中不存在的字段（谨慎开启）
  auto-drop-column: false
```

## 完整示例

```mermaid
flowchart TB
    subgraph app["🚀 应用启动"]
        A1["@EnableAutoTable"]
        A2["Spring Boot"]
    end
    
    subgraph entities["📦 实体扫描"]
        E1["User"]
        E2["Order"]
        E3["Product"]
    end
    
    subgraph autotable["⚙️ AutoTable"]
        AT1["解析注解"]
        AT2["比对结构"]
        AT3["生成SQL"]
    end
    
    subgraph db["💾 数据库"]
        D1["user表"]
        D2["order表"]
        D3["product表"]
    end
    
    app --> entities --> autotable --> db

    style autotable fill:#6366f1,stroke:#4f46e5,color:#fff
```

## 下一步

- 了解 [运行模式](/核心概念/运行模式) 的区别
- 学习更多 [表定义](/使用指南/定义表) 方式
- 查看完整 [配置项](/API参考/配置项)
