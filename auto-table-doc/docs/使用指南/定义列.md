---
title: å®šä¹‰åˆ—
description:
---

# å®šä¹‰åˆ—

ä»¥ä¸‹æ³¨è§£ï¼Œç”¨äºæè¿°æ•°æ®åº“åˆ—ä¿¡æ¯çš„ï¼Œåªèƒ½æ ‡æ³¨äºå­—æ®µä¸Š

## @AutoColumn <Badge type="warning" text="^1.7.5" />

> åˆ—å®šä¹‰æ³¨è§£ï¼Œèšåˆæ³¨è§£ï¼Œé›†åˆäº†ä¸‹é¢`@Column*`å¼€å¤´çš„æ³¨è§£çš„èƒ½åŠ›

| å±æ€§                                             | ç±»å‹                                                    | å¿…å¡« | é»˜è®¤          | é‡Šä¹‰                                                                          |
|------------------------------------------------|-------------------------------------------------------|----|-------------|-----------------------------------------------------------------------------|
| value                                          | `String`                                              | å¦  | `''`        | åˆ—å                                                                          |
| type                                           | `String`                                              | å¦  | `''`        | å­—æ®µç±»å‹                                                                        |
| length                                         | `Integer`                                             | å¦  | `-1`        | å­—æ®µé•¿åº¦                                                                        |
| decimalLength                                  | `Integer`                                             | å¦  | `-1`        | å­—æ®µé•¿åº¦å°æ•°ä½æ•°                                                                    |
| notNull                                        | `Boolean`                                             | å¦  | `false`     | ä¸ä¸ºnull                                                                      |
| defaultValue                                   | `String`                                              | å¦  | `''`        | åˆ—çš„é»˜è®¤å€¼                                                                       |
| defaultValueType                               | DefaultValueEnum(`UNDEFINED`, `EMPTY_STRING`, `NULL`) | å¦  | `UNDEFINED` | åˆ—çš„é»˜è®¤å€¼ç±»å‹ï¼Œä¼˜å…ˆçº§é«˜äº`value`å±æ€§                                                      |
| comment                                        | `String`                                              | å¦  | `''`        | åˆ—æ³¨é‡Š                                                                         |
| sort <Badge type="warning" text="^2.3.5.1" />  | `Integer`                                             | å¦  | `0`         | å­—æ®µé¡ºåºï¼Œ1ï¼šç¬¬ä¸€ä½ï¼Œ-1ï¼šæœ€åä¸€ä½                                                          |
| dialect <Badge type="warning" text="^2.4.6" /> | `String`                                              | å¦  | `''`        | å¼ºè°ƒè¯¥é…ç½®åªç”Ÿæ•ˆäºæŸç§æ•°æ®åº“ç­–ç•¥ï¼Œå‚è€ƒ org.dromara.autotable.core.constants.DatabaseDialect å¸¸é‡ |

::: details æŸ¥çœ‹æ ·ä¾‹

```java
// æµ‹è¯•è¡¨
@AutoTable
public class TestTable {
    private Long id;
    @AutoColumn("name") // [!code ++]
    private String name;
    ......
}
```

:::

## @AutoColumns <Badge type="warning" text="^2.4.6" />

> `@AutoColumn`æ³¨è§£çš„é›†åˆæ³¨è§£ï¼Œå¯ä»¥åŒæ—¶å®šä¹‰å¤šä¸ª`@AutoColumn`ï¼Œ**å®ç°ä¸€å¥—ä»£ç é€‚é…å¤šç§æ•°æ®åº“**

| å±æ€§    | ç±»å‹             | å¿…å¡«  | é»˜è®¤ | é‡Šä¹‰    |
|-------|----------------|-----|----|-------|
| value | `AutoColumn[]` | `æ˜¯` |    | åˆ—æ³¨è§£é›†åˆ |

::: tip ğŸŒ å¤šæ•°æ®åº“é€‚é…åˆ©å™¨
å½“ä½ çš„äº§å“éœ€è¦åŒæ—¶æ”¯æŒ MySQLã€PostgreSQLã€Oracle ç­‰å¤šç§æ•°æ®åº“æ—¶ï¼Œ`@AutoColumns` é…åˆ `dialect` å±æ€§å¯ä»¥è®©åŒä¸€ä¸ªå®ä½“è‡ªåŠ¨é€‚é…ä¸åŒæ•°æ®åº“çš„å­—æ®µç±»å‹ã€é•¿åº¦ç­‰é…ç½®ã€‚æ¡†æ¶ä¼šæ ¹æ®å½“å‰è¿æ¥çš„æ•°æ®åº“è‡ªåŠ¨é€‰æ‹©åŒ¹é…çš„é…ç½®ï¼
:::

::: details æŸ¥çœ‹æ ·ä¾‹

```java
@AutoTable
public class Article {

    @PrimaryKey(autoIncrement = true)
    private Long id;

    // æ ‡é¢˜ï¼šMySQL ç”¨ 100 é•¿åº¦ï¼ŒPostgreSQL ç”¨ 200 é•¿åº¦
    @AutoColumns({
        @AutoColumn(length = 100, dialect = DatabaseDialect.MySQL),
        @AutoColumn(length = 200, dialect = DatabaseDialect.PostgreSQL)
    })
    private String title;

    // å†…å®¹ï¼šä¸åŒæ•°æ®åº“ä½¿ç”¨ä¸åŒçš„å¤§æ–‡æœ¬ç±»å‹
    @ColumnComment("æ–‡ç« å†…å®¹")
    @AutoColumns({
        @AutoColumn(type = MysqlTypeConstant.LONGTEXT, dialect = DatabaseDialect.MySQL),
        @AutoColumn(type = PgsqlTypeConstant.TEXT, dialect = DatabaseDialect.PostgreSQL),
        @AutoColumn(type = "clob", dialect = DatabaseDialect.Oracle)
    })
    private String content;
    
    // æœªæŒ‡å®š dialect çš„é…ç½®ä½œä¸ºå…¶ä»–æ•°æ®åº“çš„é»˜è®¤å€¼
    @AutoColumns({
        @AutoColumn(type = MysqlTypeConstant.JSON, dialect = DatabaseDialect.MySQL),
        @AutoColumn(type = PgsqlTypeConstant.JSONB, dialect = DatabaseDialect.PostgreSQL),
        @AutoColumn(type = "text")  // å…¶ä»–æ•°æ®åº“é»˜è®¤ä½¿ç”¨ text
    })
    private String metadata;
}
```

**å·¥ä½œåŸç†ï¼š**
1. æ¡†æ¶å¯åŠ¨æ—¶æ£€æµ‹å½“å‰æ•°æ®åº“ç±»å‹
2. è‡ªåŠ¨åŒ¹é… `dialect` ä¸å½“å‰æ•°æ®åº“ä¸€è‡´çš„ `@AutoColumn` é…ç½®
3. å¦‚æœæ²¡æœ‰åŒ¹é…çš„ `dialect`ï¼Œä½¿ç”¨æœªæŒ‡å®š `dialect` çš„é…ç½®ä½œä¸ºé»˜è®¤å€¼
4. å¤šä¸ªé…ç½®æŒ‰å£°æ˜é¡ºåºä¼˜å…ˆåŒ¹é…

:::

## @ColumnName

> åˆ—åç§°

| å±æ€§    | ç±»å‹       | å¿…å¡«  | é»˜è®¤ | é‡Šä¹‰ |
|-------|----------|-----|----|----|
| value | `String` | `æ˜¯` |    | åˆ—å |

::: details æŸ¥çœ‹æ ·ä¾‹

```java
// æµ‹è¯•è¡¨
@AutoTable
public class TestTable {
    private Long id;
    @ColumnName("name") // [!code ++]
    private String name;
    ......
}
```

:::

## @ColumnType

> åˆ—ç±»å‹åŠé•¿åº¦

| å±æ€§            | ç±»å‹         | å¿…å¡« | é»˜è®¤   | é‡Šä¹‰                                                                                |
|---------------|------------|----|------|-----------------------------------------------------------------------------------|
| value         | `String`   | å¦  | `''` | å­—æ®µçš„ç±»å‹ï¼Œä¸æŒ‡å®šçš„æƒ…å†µä¸‹ä½¿ç”¨é»˜è®¤æ˜ å°„è§„åˆ™                                                             |
| length        | `int`      | å¦  | `-1` | å­—æ®µé•¿åº¦ï¼Œå€¼å°äº 0 ç›¸å½“äº null                                                               |
| decimalLength | `int`      | å¦  | `-1` | å°æ•°ç‚¹åå°æ•°ä½æ•°ï¼Œå€¼å°äº 0 ç›¸å½“äº null                                                           |
| values        | `String[]` | å¦  | `{}` | æšä¸¾å¯é€‰å€¼ï¼ˆç›®å‰ä»…æ”¯æŒ MySQL çš„ enum å’Œ set ç±»å‹ï¼‰ï¼Œå¦‚æœå­—æ®µæ˜¯ java çš„ Enum ç±»å‹ï¼Œé‚£ä¹ˆ values å¯ä»¥ä¸æŒ‡å®šï¼Œé»˜è®¤å–æšä¸¾çš„æ‰€æœ‰å€¼ |

::: details æŸ¥çœ‹æ ·ä¾‹

```java
// æµ‹è¯•è¡¨
@AutoTable
public class TestTable {
    private Long id;
    // æ¡†æ¶å†…éƒ¨ä¼šè‡ªåŠ¨èµ‹å€¼é»˜è®¤é•¿åº¦255
    @ColumnType(MysqlTypeConstant.VARCHAR) // [!code ++]
    private String name;
    ......
}
```

:::

## @ColumnNotNull

> å£°æ˜åˆ—å¿…é¡»éç©º

::: details æŸ¥çœ‹æ ·ä¾‹

```java
// æµ‹è¯•è¡¨
@AutoTable
public class TestTable {
    private Long id;
    // æ ‡è®°æ­¤åˆ—ä¸èƒ½ä¸ºç©º
    @ColumnNotNull // [!code ++]
    private String name;
    ......
}
```

:::

## @ColumnDefault

> æŒ‡å®šåˆ—çš„é»˜è®¤å€¼

| å±æ€§    | ç±»å‹                                                    | å¿…å¡« | é»˜è®¤          | é‡Šä¹‰                     |
|-------|-------------------------------------------------------|----|-------------|------------------------|
| value | `String`                                              | å¦  | `''`        | åˆ—çš„é»˜è®¤å€¼                  |
| type  | DefaultValueEnum(`UNDEFINED`, `EMPTY_STRING`, `NULL`) | å¦  | `UNDEFINED` | åˆ—çš„é»˜è®¤å€¼ç±»å‹ï¼Œä¼˜å…ˆçº§é«˜äº`value`å±æ€§ |

::: details æŸ¥çœ‹æ ·ä¾‹

```java
// æµ‹è¯•è¡¨
@AutoTable
public class TestTable {
    private Long id;
    // é»˜è®¤å€¼ä¸ºnull
    @ColumnDefault(type = DefaultValueEnum.NULL) // [!code ++]
    private String name;
    // é»˜è®¤å€¼ä¸ºç©ºå­—ç¬¦ä¸²
    @ColumnDefault(type = DefaultValueEnum.EMPTY_STRING) // [!code ++]
    private String nickName;
    // é»˜è®¤å€¼ä¸ºå­—ç¬¦ä¸²12345678
    @ColumnDefault("12345678") // [!code ++]
    private String phone;
    ......
}
```

:::

## @ColumnComment

> åˆ—æ³¨é‡Š

| å±æ€§    | ç±»å‹       | å¿…å¡«  | é»˜è®¤ | é‡Šä¹‰  |
|-------|----------|-----|----|-----|
| value | `String` | `æ˜¯` |    | åˆ—æ³¨é‡Š |

::: details æŸ¥çœ‹æ ·ä¾‹

```java
// æµ‹è¯•è¡¨
@AutoTable
public class TestTable {
    private Long id;
    // å£°æ˜åˆ—æ³¨é‡Š
    @ColumnComment("å§“å") // [!code ++]
    private String name;
    ......
}
```

:::

## @MysqlColumnCharset

> MySQL ä¸“å±æ³¨è§£ã€‚æŒ‡å®šåˆ—å­—ç¬¦é›†å’Œå­—ç¬¦æ’åº

| å±æ€§      | ç±»å‹       | å¿…å¡«  | é»˜è®¤ | é‡Šä¹‰   |
|---------|----------|-----|----|------|
| value   | `String` | `æ˜¯` |    | å­—ç¬¦é›†  |
| collate | `String` | `æ˜¯` |    | å­—ç¬¦æ’åº |

::: details æŸ¥çœ‹æ ·ä¾‹

```java
// æµ‹è¯•è¡¨
@AutoTable
public class TestTable {
    private Long id;
    // å£°æ˜åˆ—å­—ç¬¦é›†å’Œå­—ç¬¦æ’åº
    @MysqlColumnCharset(value = "utf8mb4", collate = "utf8mb4_0900_ai_ci") // [!code ++]
    private String name;
    ......
}
```

:::

::: tip
ä»¥ Mysql ä¸ºå‰ç¼€çš„æ³¨è§£è¯´æ˜æ˜¯ Mysql æ•°æ®åº“ä¸“å±çš„æ³¨è§£ï¼Œå¯¹åº”çš„åº“æ³¨è§£åªä¼šä½œç”¨äºå¯¹åº”çš„æ•°æ®åº“ã€‚
:::

## @MysqlColumnUnsigned <Badge type="warning" text="^1.9.1" />

> MySQL ä¸“å±æ³¨è§£ã€‚æŒ‡å®šMySQLæ•°å­—ç±»å‹ä¸å…è®¸è´Ÿæ•°ï¼Œå…¶èŒƒå›´ä» 0 å¼€å§‹

::: details æŸ¥çœ‹æ ·ä¾‹

```java
// æµ‹è¯•è¡¨
@AutoTable
public class TestTable {
    private Long id;
    // å£°æ˜å¹´é¾„æ˜¯æ— ç¬¦å·æ•°å­—
    @MysqlColumnUnsigned // [!code ++]
    private Integer age;
    ......
}
```

:::

::: tip
ä»¥ Mysql ä¸ºå‰ç¼€çš„æ³¨è§£è¯´æ˜æ˜¯ Mysql æ•°æ®åº“ä¸“å±çš„æ³¨è§£ï¼Œå¯¹åº”çš„åº“æ³¨è§£åªä¼šä½œç”¨äºå¯¹åº”çš„æ•°æ®åº“ã€‚
:::

::: warning
è¯¥æ³¨è§£ç­‰åŒäºmysqlçš„ä¿®é¥°ç¬¦UNSIGNEDï¼Œåªèƒ½ä½œç”¨äºæ•°å­—ç±»å‹ä¸Š
:::

## @MysqlColumnZerofill <Badge type="warning" text="^1.9.1" />

> MySQL ä¸“å±æ³¨è§£ã€‚æŒ‡å®šMySQLæ•°å­—ç±»å‹åœ¨å›ºå®šé•¿åº¦ä¸è¶³çš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œå‰ç½®è¡¥0

::: details æŸ¥çœ‹æ ·ä¾‹

```java
// æµ‹è¯•è¡¨
@AutoTable
public class TestTable {
    private Long id;
    // å£°æ˜ç¼–å·æ˜¯10ä½çš„ï¼Œä½æ•°ä¸è¶³çš„å‰é¢è‡ªåŠ¨è¡¥0ï¼Œä¾‹å¦‚numberæ˜¯12345ï¼ŒæŸ¥è¯¢ç»“æœæ˜¯0000012345
    @MysqlColumnZerofill // [!code ++]
    @ColumnType(length = 10) // [!code ++]
    private Integer number;
    ......
}
```

:::

::: tip
ä»¥ Mysql ä¸ºå‰ç¼€çš„æ³¨è§£è¯´æ˜æ˜¯ Mysql æ•°æ®åº“ä¸“å±çš„æ³¨è§£ï¼Œå¯¹åº”çš„åº“æ³¨è§£åªä¼šä½œç”¨äºå¯¹åº”çš„æ•°æ®åº“ã€‚
:::

::: warning
è¯¥æ³¨è§£ç­‰åŒäºmysqlçš„ä¿®é¥°ç¬¦ZEROFILLï¼Œåªèƒ½ä½œç”¨äºæ•°å­—ç±»å‹ä¸Šï¼ŒåŒæ—¶åŸºäºmysqlçš„ç‰¹æ€§ï¼Œæ”¹æ³¨è§£è‡ªåŠ¨æºå¸¦äº†@MysqlColumnUnsignedçš„èƒ½åŠ›
:::

## @Ignore

> å¿½ç•¥æ ‡æ³¨çš„å­—æ®µï¼Œä¸å‚ä¸è¡¨ç»“æ„ç»´æŠ¤ï¼Œè¯¥æ³¨è§£çš„ä¼˜å…ˆçº§å¤§äºæ‰€æœ‰æ³¨è§£

::: details æŸ¥çœ‹æ ·ä¾‹

```java
// æµ‹è¯•è¡¨
@AutoTable
public class TestTable {
    private Long id;
    // ç›´æ¥å¿½ç•¥nameå­—æ®µï¼Œå³ä¾¿å£°æ˜äº†@ColumnName
    @Ignore // [!code ++]
    @ColumnName("name") // ä¸ç”Ÿæ•ˆ  // [!code warning]
    private String name;
    ......
}
```

:::

## @PrimaryKey

> å£°æ˜è¯¥åˆ—ä¸ºä¸»é”®

| å±æ€§                                                 | ç±»å‹        | å¿…å¡«  | é»˜è®¤ | é‡Šä¹‰   |
|----------------------------------------------------|-----------|-----|----|------|
| ~~value~~<Badge type="warning" text="åºŸå¼ƒ" />      | `boolean` | `æ˜¯` |    | æ˜¯å¦è‡ªå¢ |
| autoIncrement<Badge type="warning" text="^2.0.1" /> | `boolean` | `æ˜¯` |    | æ˜¯å¦è‡ªå¢ |

::: details æŸ¥çœ‹æ ·ä¾‹

```java
// æµ‹è¯•è¡¨
@AutoTable
public class TestTable {
    @PrimaryKey(autoIncrement = true) // [!code ++]
    private Long id;
    ......
}
```

:::

## @AutoIncrement <Badge type="warning" text="^2.1.4" />

> å£°æ˜è¯¥åˆ—ä¸ºè‡ªå¢ï¼Œæ³¨æ„ä¸åŒæ•°æ®åº“çš„è¦æ±‚

| å±æ€§    | ç±»å‹        | å¿…å¡«  | é»˜è®¤ | é‡Šä¹‰   |
|-------|-----------|-----|----|------|
| value | `boolean` | `å¦` |    | æ˜¯å¦è‡ªå¢ |

::: details æŸ¥çœ‹æ ·ä¾‹

```java
// æµ‹è¯•è¡¨
@AutoTable
public class TestTable {
    @AutoIncrement // [!code ++]
    @Index(type = IndexTypeEnum.UNIQUE) // [!code ++] // mysql
    private Long id;
    ......
}
```

:::

::: tip
ä»¥ Mysql ä¸ºä¸ºä¾‹ï¼Œå•çº¯ä½¿ç”¨@AutoIncrementä¼šæŠ¥é”™ï¼Œéœ€è¦ç»“åˆ@Index(type = IndexTypeEnum.UNIQUE)ï¼Œå› ä¸ºmysqlè¦æ±‚è‡ªå¢å­—æ®µå¿…é¡»ä¸ºå”¯ä¸€ç´¢å¼•
:::
